# 개인화된 메시지 보내기

💬 이 내용은 **스탠다드, 프로, 엔터프라이즈 요금제**에 해당하는 도움말입니다.

### 추가해야 하는 내용 <a href="#h_01hf3m79kxs75a9fwq4zd38qnm" id="h_01hf3m79kxs75a9fwq4zd38qnm"></a>

문서 내용 중 ‘HTML 코드를 사용하는 경우 메일머지 사용 가능함’을 안내하고 자세한 내용은 여기로 이동시킴.

### 이 글에서는 <a href="#h_01hf3m79kxs75a9fwq4zd38qnm" id="h_01hf3m79kxs75a9fwq4zd38qnm"></a>

개인화된 이메일을 만들기 위해 구독자별 이름이나 회사명 등을 다르게 설정해서 보내고 싶은 경우가 있습니다. 스티비의 \[메일머지]를 사용하면 구독자별로 이메일을 개별로 만들 필요 없이 한번에 구독자별로 개인화된 이메일 콘텐츠를 제작하는 것이 가능합니다. \[메일머지] 사용 방법에 대해 알아봅니다.



### 메일머지란? <a href="#h_01gg72mtzptjnc7h911r1ss40n" id="h_01gg72mtzptjnc7h911r1ss40n"></a>

'메일머지'는 같은 내용의 이메일을 여러 구독자에게 보내는 경우 이메일의 제목 또는 본문 등 원하는 곳에 구독자별로 다른 정보를 넣어 보낼 수 있는 기능을 말합니다. 이메일의 본문이나 제목에 메일머지 형식을 갖춰서 정보를 입력하면 실제 발송 시 주소록에 구독자별로 저장된 고유 값으로 자동으로 변환되어 발송됩니다.

사진1. 메일머지 적용 사례 <스티비 웰컴 이메일>

### 준비하기 <a href="#h_01gg72rnncjwf2a71a5kve372k" id="h_01gg72rnncjwf2a71a5kve372k"></a>

메일머지는 구독자별로 주소록의 \[[사용자 정의 필드](https://help.stibee.com/hc/ko/articles/5659525285007)]에 저장된 정보를 이메일을 발송할 때 자동으로 불러오는 기능입니다. 주소록에 저장된 정보 중 어떤 정보를 가지고 올 지는 \[사용자 정의 필드]에 설정한 키(Key)값이 기준입니다. 따라서 메일머지 기능을 사용하기 위해서는 사전에 아래 내용을 준비해주세요.

* 구독자별로 다른 정보를 보내고 싶은 사용자 정의 필드 등록
* 사용자 정의 필드에 구독자별로 정보 추가하기
* 사용자 정의 필드의 키 값 확인

### 메일머지의 형식 <a href="#h_01gg72n2jbzyyf71fpskf5a72w" id="h_01gg72n2jbzyyf71fpskf5a72w"></a>

메일머지는 '$'와 '%' 그리고 \[사용자 정의 필드]의 '키' 값 세가지 요소로 구분되며 아래와 같은 형식을 갖춰 입력하면 됩니다.

* $%사용자 정의 필드 키 값%$

A라는 주소록에 회사명이라는 사용자 정의 필드를 추가하고 이 필드의 Key 값을 company로 설정한 경우를 예로 들어보겠습니다. 이때 사용자별로 회사명을 다르게 표시하고 싶다면 이메일 본문이나 제목 등 넣고 싶은 부분에 아래 형식으로 입력하면 됩니다.

* $%company%$

A 주소록에 dooly@stibee.com라는 구독자의 회사명이 스티비로 등록된 경우 메일머지 코드를 입력하여 발송하면 아래 예시처럼 값이 dooly@stibee.com 구독자의 회사명 정보로 변환되어 발송됩니다.

* 입력: $%company%$ 담당자님 안녕하세요.
* 발송: 스티비 담당자님 안녕하세요.

사용자 정의 필드와 메일머지 형식을 이용하면 이름, 회사명 뿐 아니라 주소록에 등록된 어떤 사용자 정의 필드 정보라도 모두 구독자별로 가진 고유한 값으로 변환하여 보내는 것이 가능합니다.

### 입력 방법 <a href="#h_01gg72na0n4vs01knxs83tha88" id="h_01gg72na0n4vs01knxs83tha88"></a>

#### 메일머지 입력 버튼 이용하기 <a href="#h_01gg72nht9e5hwjss9zkz6vwf7" id="h_01gg72nht9e5hwjss9zkz6vwf7"></a>

이메일 제목 입력창과 편집기의 텍스트 상자를 사용하는 경우 툴바 윗 부분에 메일머지 코드를 입력할 수 있는 버튼이 표시됩니다. 버튼을 클릭해 입력하고 싶은 \[사용자 정의 필드]를 선택하면 자동으로 메일머지 형식에 맞는 값이 입력됩니다. 자세한 사용 방법은 [이메일 제목에 구독자 이름을 넣을 수 있나요?](https://help.stibee.com/hc/ko/articles/4756474635407) 도움말을 참고해주세요.

#### 직접 입력하기 <a href="#h_01gg72npydwncy0b92apvnhd39" id="h_01gg72npydwncy0b92apvnhd39"></a>

버튼을 사용하지 않고 직접 형식에 맞춰 메일머지 코드를 입력해도 됩니다. 자세한 사용 방법은 [이메일 제목에 구독자 이름을 넣을 수 있나요?](https://help.stibee.com/hc/ko/articles/4756474635407)를 참고해주세요.



### 기본 필드란? <a href="#h_01gg9m6nm8r248fdgpygr3j9aq" id="h_01gg9m6nm8r248fdgpygr3j9aq"></a>

스티비를 사용해 이메일을 발송하는 것만으로도 자동으로 생성되는 정보들이 있습니다. 이메일 발송일시, 이메일을 발송한 주소록에 등록된 구독자 수, 이메일의 \[공유용 URL], \[수신거부 URL] 등의 정보를 예로 들 수 있습니다.

이 정보들을 활용하는 \[메일머지 기본필드]만 이메일에 추가해 두면 '구독자에게 지금 같은 뉴스레터를 받아보는 구독자 수가 몇 명인지'에 대한 정보를 제공해 줄 수 있고, 새롭게 추가된 구독자에게 '가장 최근에 발송한 뉴스레터의 공유용 URL' 등과 같은 정보를 매번 수정할 필요 없이 자동으로 업데이트해서 보내줄 수 있습니다.

이메일의 고유 ID 값을 활용해 이메일을 통해 유입된 사용자가 구체적으로 어떤 이메일을 통해 유입됐는지 이메일의 성과를 측정하는 데에도 사용할 수 있습니다.

### 사용 예시 <a href="#h_01gg9m6tq1w49yttyvhecbwagv" id="h_01gg9m6tq1w49yttyvhecbwagv"></a>

#### 이메일에 구독자 수 표시하기 <a href="#h_01gg9m6zytq2r7q4d46rhvzd3s" id="h_01gg9m6zytq2r7q4d46rhvzd3s"></a>

종종 일부 뉴스레터에서는 현재 이 뉴스레터의 구독자 수가 몇명인지에 대한 정보를 이메일 본문에 함께 실어서 보내는 경우가 있습니다. (예: "현재 nnnnnn명이 뉴스레터를 구독하고 있어요.") \[메일머지 기본필드]를 사용하면 매번 주소록에서 구독자 수를 직접 확인하지 않아도 발송 때마다 자동으로 현재 시점 기준 주소록 구독자 수로 변환되어 발송되도록 설정할 수 있습니다.

1. 이메일에 \[텍스트 상자]를 추가합니다.
2. 문구를 작성하고 중간에 구독자 수가 들어가야 하는 부분에 $%subscribers\_count%$를 입력합니다.\
   (예시: 현재 $%subscribers\_count%$명이 뉴스레터를 구독하고 있어요.)
3. 이메일을 발송합니다.

만약에 이메일을 발송하는 시점에 주소록에 등록된 구독자가 1,500명이라면 실제 발송 시에는 아래와 같이 자동으로 변환되어 발송됩니다.

* 작성 시: 현재 $%subscribers\_count%$명이 뉴스레터를 구독하고 있어요.
* 발송 시: 현재 1,500명이 뉴스레터를 구독하고 있어요.

#### 가장 최근에 발송한 이메일의 공유용 URL 삽입하기 <a href="#h_bb4996600e" id="h_bb4996600e"></a>

구독자에게 가장 최근에 발송된 이메일을 확인할 수 있도록 제공하고 싶은 경우가 있을 수 있습니다. 이전에 발송된 이메일의 공유용 URL을 확인해서 수동으로 링크를 넣어주는 방법도 있지만 메일머지 기본 필드를 사용하면 자동으로 가장 최근에 발송된 이메일의 공유용 URL 링크가 추가되도록 할 수 있습니다.

1. 이메일 본문에 \[버튼 상자]를 삽입하거나 텍스트를 입력합니다.
2. 1에서 입력한 버튼 또는 텍스트 상자를 클릭하면 윗 부분에 툴바가 표시됩니다. 툴바의 링크(🔗) 버튼을 클릭하고 오른쪽에 있는 메일머지 입력 버튼 \[ { } ]을 클릭하면 사용할 수 있는 기본 메일 머지 필드가 표시됩니다.
3. 목록에서 \[가장 최근에 발송한 이메일의 공유용 URL]을 선택하면 기본 메일 머지 필드가 입력됩니다.
4. 또는 기본 메일머지 코드 $%permalink\_latest%$ 를 링크 입력 창에 직접 입력해도 됩니다.

사진1. 최근 발송한 이메일의 공유용 URL 삽입하기

#### 구독 정보 변경 URL 보내기 <a href="#h_01gg9m7a5e486y82nfwnadntkp" id="h_01gg9m7a5e486y82nfwnadntkp"></a>

\[구독 정보 변경 화면]에서 구독자가 직접 구독자 정보를 변경할 수 있도록 설정할 수 있습니다. \[구독 관리 화면]에서 확인할 수 있는 URL을 직접 넣어주는 방법도 있지만 \[메일머지 기본필드]를 사용하면 더 간단하게 \[구독 정보 변경 화면] URL을 입력할 수 있습니다.

1. 이메일에 \[버튼 상자]나 \[텍스트 상자]를 삽입합니다.
2. 삽입한 상자를 클릭하면 표시되는 툴바에서 링크(🔗) 버튼을 클릭합니다.
3. 입력창 오른쪽에 있는 \[ { } ]를 클릭하고 \[구독 정보 변경 화면 URL]을 선택합니다. 또는 $%preferences%$를 링크에 직접 입력해도 됩니다.
4. 이메일을 발송하면 $%preferences%$가 자동으로 이메일이 발송된 주소록의 \[구독 정보 변경 화면] URL로 변환됩니다.

사진2. 구독 정보 변경 화면 URL 삽입하기

#### 이메일을 통한 서비스 유입 성과 측정하기 <a href="#h_01gg9m7fqz25c1h40fdde2qjye" id="h_01gg9m7fqz25c1h40fdde2qjye"></a>

구글 애널리틱스(Google Analytics), 앰플리튜드(Amplitude) 등의 프로그램을 활용하면 내 홈페이지로 유입된 사용자를 추적할 수 있습니다. 이때 UTM 파라미터(UTM parameter)를 사용하면 유입된 사용자가 '어떤 채널을 통해 들어왔는지', '어떤 마케팅 캠페인을 통해 유입됐는지' 여부도 기록할 수 있어 더 자세하게 사용자의 전환 과정을 추적할 수 있습니다.&#x20;

스티비에서 제공하는 메일머지 기본 필드 중 \[이메일 id] 필드와 UTM 파라미터를 함께 사용하면 내 홈페이지를 방문한 사용자가 구체적으로 어떤 이메일을 통해 유입됐는지를 추적할 수 있습니다. 이메일은 6자리 숫자로 구성된 고유한 ID 값을 가집니다. UTM 파라미터 링크를 구성할 때 \[이메일 id] 필드의 메일머지 코드를 넣어주면 이메일이 발송됐을 때 자동으로 이메일 id로 변환됩니다.

예를 들어 아래 예시의 형식처럼 URL을 구성하고 이 URL을 이메일의 텍스트나 버튼 등에 넣어주면 어떤 이메일을 통해 유입된 방문자인지 추적이 가능해 이메일 별 성과를 더 자세하게 측정할 수 있습니다.\
\*실제로 사용하는 경우에는 아래 예시를 참고하여 URL은 수정 후 사용해주세요.

* 예시: [https://stibee.com/?utm\_medium=email\&utm\_campaign=$%email\_id%$](https://stibee.com/?utm\_medium=email\&utm\_campaign=%24%email\_id%24%)

### 사용할 수 있는 기본 필드 목록 <a href="#h_01gg9m8qb1mjndpp2a89y41n8c" id="h_01gg9m8qb1mjndpp2a89y41n8c"></a>

설명하고 있는 사례외에도 더 많은 \[기본 필드]를 제공하고 있습니다. 다음은 스티비에서 제공되고 있는 메일머지 기본 필드에 대한 정보입니다. 리스트는 주기적으로 업데이트 될 예정입니다.

#### URL 정보 <a href="#h_da80247a0c" id="h_da80247a0c"></a>

* $%unsubscribe%$: 수신거부용 URL
* $%permalink%$: 공유용 URL
* $%page%$: 페이지 URL
* $%subscribe%$: 이메일을 발송한 주소록에 연결된 구독폼 URL
* $%archives%$: 이메일을 발송한 주소록에 연결된 아카이브 URL
* $%preferences%$: 구독자가 직접 구독 정보를 변경할 수 있는 페이지 URL
* $%permalink\_latest%$: 이메일을 발송한 주소록에 가장 최근에 발송된 이메일의 공유용 URL

#### 이메일 정보 <a href="#h_6d66d44229" id="h_6d66d44229"></a>

* $%email\_id%$: 이메일 ID
* $%subject%$: 이메일 제목
* $%sent\_time%$: 발송일
* $%sender\_email%$: 이메일 발신자 주소

#### 주소록 정보 <a href="#h_a7eefb562e" id="h_a7eefb562e"></a>

* $%list\_name%$: 이메일을 발송한 주소록의 이름
* $%list\_id%$: 이메일을 발송한 주소록 ID
* $%subscribers\_count%$: 이메일을 발송한 주소록에 "구독중" 상태인 구독자 수

#### 구독자 정보 <a href="#h_b68744d3f5" id="h_b68744d3f5"></a>

* $%email%$ : 이메일을 수신한 구독자 이메일 주소
* $%subscribed\_date%$: 이메일을 수신한 구독자의 구독일시

### 주의사항 <a href="#h_01g8sqrk4rbd78fn0cte0t3c9v" id="h_01g8sqrk4rbd78fn0cte0t3c9v"></a>

사용자가 직접 설정한 사용자 정의 필드의 키(Key) 값과 스티비에서 기본적으로 제공하는 기본 필드의 키값이 중복되는 경우에는 사용자 정의 필드가 기본 필드보다 우선 순위가 높게 적용됩니다.

A라는 사용자가 아래와 같이 설정 했다고 가정해보겠습니다.

* 주소록명: 기본 주소록
* 사용자 정의 필드명: 페이지
* 설정한 키 값: page
* 사용하고 있는 \[페이지] URL: dooly.stibee.com

이 상황에 [gildong.go@stibee.com](mailto:gildong.go@stibee.com)라는 구독자를 등록하고 이 구독자의 페이지 필드 값에 stibee.com을 등록하고 아래와 같이 설정해서 발송하는 경우 어떻게 표시가 될까요?

* 예시) 오른쪽 링크를 클릭해 만들어진 페이지를 확인해보세요. >> $%page%$

이 경우 사용자가 설정한 필드의 키 값이 기본 메일머지보다 우선으로 적용되기 때문에 아래와 같이 변환되어 발송됩니다.

* 예시) 오른쪽 링크를 클릭해 만들어진 페이지를 확인해보세요. >> stibee.com

따라서 \[사용자 정의 필드]의 키값을 설정할 때는 기본 필드의 키값과 중복되지는 않는지 여부를 확인해보는 것이 좋습니다.

