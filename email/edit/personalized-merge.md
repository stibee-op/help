---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 개인화된 메시지 보내기

💬 이 내용은 **스탠다드, 프로, 엔터프라이즈 요금제**에 해당하는 도움말입니다.

## 이 글에서는

구독자별로 개인화된 이메일을 만들고 싶다면 메일머지 기능을 사용하면 됩니다. 메일머지 기능이란 무엇이고 어떻게 사용하면 되는지 알아봅니다.

***

개인화된 이메일을 만들기 위해 구독자별 이름이나 회사명 등을 다르게 설정해서 보내고 싶은 경우가 있습니다. 스티비의 \[메일머지]를 사용하면 구독자별로 이메일을 개별로 만들 필요 없이 한 번에 구독자별로 개인화된 이메일 콘텐츠를 제작하는 것이 가능합니다.&#x20;



## 메일머지란? <a href="#h_01gg72mtzptjnc7h911r1ss40n" id="h_01gg72mtzptjnc7h911r1ss40n"></a>

'메일머지'는 같은 내용의 이메일을 여러 구독자에게 보내는 경우 이메일의 제목 또는 본문 등 원하는 곳에 구독자별로 다른 정보를 넣어 보낼 수 있는 기능을 말합니다. 이메일의 본문이나 제목에 메일머지 형식을 갖춰서 정보를 입력하면 실제 발송 시 주소록에 구독자별로 저장된 고유의 값으로 자동 변환되어 발송됩니다.

<figure><img src="../../.gitbook/assets/image (25) (1).png" alt=""><figcaption></figcaption></figure>



## 메일머지 사용하기

메일머지는 구독자별로 주소록의 \[[사용자 정의 필드](../../list/adding-managing-subscriber/understanding-subscriber-info.md)]에 저장된 정보를 이메일을 발송할 때 자동으로 불러옵니다. 주소록에 저장된 정보 중 어떤 정보를 가지고 올 지는 '사용자 정의 필드'에 설정한 키(Key)값이 기준입니다. 따라서 메일머지 기능을 사용하기 위해서는 사전에 아래 내용을 준비해 주세요.

* 구독자별로 다른 정보를 보내고 싶은 사용자 정의 필드 등록
* 사용자 정의 필드에 구독자별로 정보 추가하기
* 사용자 정의 필드의 키 값 확인



### 메일머지의 형식 <a href="#h_01gg72n2jbzyyf71fpskf5a72w" id="h_01gg72n2jbzyyf71fpskf5a72w"></a>

메일머지는 '$'와 '%' 그리고 \[사용자 정의 필드]의 '키' 값 세 가지 요소로 구분되며 아래와 같은 형식을 갖춰 입력하면 됩니다.

```
$%사용자 정의 필드 키 값%$
```

A라는 주소록에 회사명이라는 사용자 정의 필드를 추가하고 이 필드의 Key 값을 company로 설정한 경우를 예로 들어보겠습니다. 이때 사용자별로 회사명을 다르게 표시하고 싶다면 이메일 본문이나 제목 등 넣고 싶은 부분에 아래 형식으로 입력하면 됩니다.

```
$%company%$
```

A 주소록에 dooly@stibee.com라는 구독자의 회사명이 스티비로 등록된 경우 메일머지 코드를 입력하여 발송하면 아래 예시처럼 값이 dooly@stibee.com 구독자의 회사명 정보로 변환되어 발송됩니다.

```
입력: $%company%$ 담당자님 안녕하세요.
발송: 스티비 담당자님 안녕하세요.
```

사용자 정의 필드와 메일머지 형식을 이용하면 이름, 회사명뿐 아니라 주소록에 등록된 어떤 사용자 정의 필드 정보라도 모두 구독자별로 가진 고유한 값으로 변환하여 보내는 것이 가능합니다.



### 메일머지 치환자 넣기 <a href="#h_01gg72na0n4vs01knxs83tha88" id="h_01gg72na0n4vs01knxs83tha88"></a>

#### 메일머지 입력 버튼 이용하기 <a href="#h_01gg72nht9e5hwjss9zkz6vwf7" id="h_01gg72nht9e5hwjss9zkz6vwf7"></a>

이메일 제목 입력창과 편집기의 텍스트 상자를 사용하는 경우 툴바 윗부분에 메일머지 코드를 입력할 수 있는 버튼이 표시됩니다. 버튼을 클릭해 입력하고 싶은 \[사용자 정의 필드]를 선택하면 자동으로 메일머지 형식에 맞는 값이 입력됩니다.&#x20;

<figure><img src="../../.gitbook/assets/image (26) (1).png" alt=""><figcaption></figcaption></figure>

이메일 본문에서도 같은 방법으로 메일머지 치환자를 버튼으로 간단하게 입력할 수 있습니다.

<figure><img src="../../.gitbook/assets/image (27) (1).png" alt=""><figcaption></figcaption></figure>

#### 직접 입력하기 <a href="#h_01gg72npydwncy0b92apvnhd39" id="h_01gg72npydwncy0b92apvnhd39"></a>

버튼을 사용하지 않고 직접 형식에 맞춰 메일머지 코드를 입력해도 됩니다.&#x20;

```
$%name%$
```

#### HTML 코드에서 메일머지 넣기

\[HTML 템플릿으로 만들기] 또는 에디터의 \[HTML 상자]에서도 메일머지를 입력할 수 있습니다. HTML로 편집하는 경우에도 메일머지 치환자를 넣고 싶은 경우에는 메일머지의 형식에 따라 값을 직접 코드상에 넣고 싶은 부분에 넣어주면 됩니다. 예를 들어 다음과 같은 HTML 코드의 중간에 사용자 이름을 넣고 싶다면 예시의 코드처럼 메일머지 치환자를 형식에 맞춰 직접 입력하면 됩니다.

{% code overflow="wrap" %}
```html
<div>
    안녕하세요. </br>
    $%name%$님. 구독을 신청해 주셔서 감사합니다.
</div>
```
{% endcode %}



### 메일머지 치환자가 잘 동작하는지 확인하기 <a href="#h_01gg72na0n4vs01knxs83tha88" id="h_01gg72na0n4vs01knxs83tha88"></a>

실제 발송을 하지 않아도 테스트 발송을 활용해 메일머지 치환자가 잘 동작하는지 확인할 수 있습니다.&#x20;

1. 이메일의 편집을 마무리했다면 화면 오른쪽 위에 있는 \[테스트 발송하기]를 클릭합니다.
2. 테스트 이메일을 보낼 이메일 주소를 입력합니다.
3. 이메일 주소 오른쪽에 표시되는 필드 정보에 원하는 값을 입력합니다.
4. 테스트 메일을 보냅니다.

<figure><img src="../../.gitbook/assets/메일머지_테스트 발송.png" alt=""><figcaption></figcaption></figure>



## 메일머지 기본 필드 활용하기 <a href="#default-fields" id="default-fields"></a>

\[사용자 정의 필드]에서는 사용자가 직접 등록할 수 있는 필드 외에 시스템에서 제공하는 몇 가지 기본 필드들이 있습니다. 이 기본 필드에도 메일머지를 적용해서 구독자마다 개인화된 이메일을 만드는 것이 가능합니다. 기본 필드에 대한 자세한 내용은 [기본 필드 이해하기](../../list/adding-managing-subscriber/understanding-subscriber-info.md#h\_01gfa42p5rm26z5b69z987t2be) 참고해 보세요.

_기본 필드를 활용한 메일머지 기능은 무료인 **스타터 요금제**에서도 사용할 수 있습니다._



메일머지 기본 필드만 활용해도 몇 가지 시나리오를 간단하게 구현해서 사용할 수 있습니다. 예를 들면,

* 뉴스레터를 받아보고 있는 구독자 수가 몇 명인지 자동으로 업데이트할 수 있습니다.
* 구독자가 직접 정보를 변경할 수 있는 화면으로 연결되는 URL을 간단하게 넣을 수 있습니다.
* 가장 최근에 발행한 뉴스레터 URL을 자동으로 업데이트할 수 있습니다.
* 누가 어떤 이메일을 통해 유입됐는지 성과를 구체적으로 추적할 수 있습니다.



### 이메일에 구독자 수 표시하기 <a href="#h_01gg9m6zytq2r7q4d46rhvzd3s" id="h_01gg9m6zytq2r7q4d46rhvzd3s"></a>

내 뉴스레터를 구독하는 사람이 몇 명인지 정보를 구독자에게 편하게 제공하고 싶다면 메일머지 기본 필드를 활용해 간단하게 자동화 할 수 있습니다.

1. 이메일에 \[텍스트 상자]를 추가합니다.
2. 문구를 작성하고 중간에 구독자 수가 들어가야 하는 부분에 $%subscribers\_count%$를 입력합니다.\
   (예시: 현재 $%subscribers\_count%$명이 뉴스레터를 구독하고 있어요.)
3. 이메일을 발송합니다.

만약에 이메일을 발송하는 시점에 주소록에 등록된 구독자가 1,500명이라면 실제 발송 시에는 아래와 같이 자동으로 변환되어 발송됩니다.

```
작성 시: 현재 $%subscribers_count%$명이 뉴스레터를 구독하고 있어요.
발송 시: 현재 1,500명이 뉴스레터를 구독하고 있어요.
```



### 최근에 발행한 이메일의 공유용 URL 삽입하기 <a href="#h_bb4996600e" id="h_bb4996600e"></a>

메일머지 기본 필드를 활용하면 구독자에게 '같은 주소록에 발송된 이메일 중 가장 최근에 보낸' 이메일의 공유용 URL이 자동으로 입력되도록 할 수 있습니다.

1. 이메일 본문에 \[버튼 상자]를 삽입하거나 텍스트를 입력합니다.
2. 1에서 입력한 버튼 또는 텍스트 상자를 클릭하면 윗 부분에 툴바가 표시됩니다. 툴바의 링크(🔗) 버튼을 클릭하고 오른쪽에 있는 메일머지 입력 버튼 \[ { } ]을 클릭하면 사용할 수 있는 기본 메일 머지 필드가 표시됩니다.
3. 목록에서 \[가장 최근에 발송한 이메일의 공유용 URL]을 선택하면 기본 메일 머지 필드가 입력됩니다.
4. 또는 기본 메일머지 코드 $%permalink\_latest%$ 를 링크 입력 창에 직접 입력해도 됩니다.

<figure><img src="../../.gitbook/assets/image (28) (1).png" alt=""><figcaption></figcaption></figure>



### 구독 정보 변경 URL 보내기 <a href="#h_01gg9m7a5e486y82nfwnadntkp" id="h_01gg9m7a5e486y82nfwnadntkp"></a>

메일머지 기본 필드를 사용하면 구독자가 자신의 구독 정보를 직접 변경할 수 있는 링크를 간단하게 넣을 수 있습니다.&#x20;

1. 이메일에 \[버튼 상자]나 \[텍스트 상자]를 삽입합니다.
2. 삽입한 상자를 클릭하면 표시되는 툴바에서 링크(🔗) 버튼을 클릭합니다.
3. 입력창 오른쪽에 있는 \[ { } ]를 클릭하고 \[구독 정보 변경 화면 URL]을 선택합니다. 또는 $%preferences%$를 링크에 직접 입력해도 됩니다.
4. 이메일을 발송하면 $%preferences%$가 자동으로 이메일이 발송된 주소록의 \[구독 정보 변경 화면] URL로 변환됩니다.

<figure><img src="../../.gitbook/assets/image (29) (1).png" alt=""><figcaption></figcaption></figure>

### 이메일을 통한 서비스 유입 성과 측정하기 <a href="#h_01gg9m7fqz25c1h40fdde2qjye" id="h_01gg9m7fqz25c1h40fdde2qjye"></a>

구글 애널리틱스(Google Analytics), 앰플리튜드(Amplitude) 등의 프로그램을 활용하면 내 홈페이지로 유입된 사용자를 추적할 수 있습니다. 이때 UTM 파라미터(UTM parameter)를 사용하면 유입된 사용자가 '어떤 채널을 통해 들어왔는지', '어떤 마케팅 캠페인을 통해 유입됐는지' 여부도 기록할 수 있어 더 자세하게 사용자의 전환 과정을 추적할 수 있습니다.&#x20;

스티비에서 제공하는 메일머지 기본 필드 중 \[이메일 id] 필드와 UTM 파라미터를 함께 사용하면 내 홈페이지를 방문한 사용자가 구체적으로 어떤 이메일을 통해 유입됐는지를 추적할 수 있습니다. 이메일은 6자리 숫자로 구성된 고유한 ID 값을 가집니다. UTM 파라미터 링크를 구성할 때 \[이메일 id] 필드의 메일머지 코드를 넣어주면 이메일이 발송됐을 때 자동으로 이메일 id로 변환됩니다.

예를 들어 아래 예시의 형식처럼 URL을 구성하고 이 URL을 이메일의 텍스트나 버튼 등에 넣어주면 어떤 이메일을 통해 유입된 방문자인지 추적이 가능해 이메일별 성과를 더 자세하게 측정할 수 있습니다.\
\*실제로 사용하는 경우에는 아래 예시를 참고하여 URL은 수정 후 사용해 주세요.

* 예시: https://stibee.com/?utm\_medium=email\&utm\_campaign=$%email\_id%$



### 주의사항 <a href="#h_01g8sqrk4rbd78fn0cte0t3c9v" id="h_01g8sqrk4rbd78fn0cte0t3c9v"></a>

사용자가 직접 설정한 사용자 정의 필드의 키(Key) 값과 스티비에서 기본적으로 제공하는 기본 필드의 키값이 중복되는 경우에는 사용자 정의 필드가 기본 필드보다 우선순위가 높게 적용됩니다. A라는 사용자가 아래와 같이 설정했다고 가정해 보겠습니다.

* 주소록명: 기본 주소록
* 사용자 정의 필드명: 페이지
* 설정한 키 값: page
* 사용하고 있는 \[페이지] URL: dooly.stibee.com

이 상황에 gildong.go@stibee.com라는 구독자를 등록하고 이 구독자의 페이지 필드 값에 stibee.com을 등록하고 아래와 같이 설정해서 발송하게 되면 사용자가 설정한 필드의 키 값이 기본 메일머지보다 우선으로 적용되기 때문에 아래와 같이 변환되어 발송됩니다. 따라서 \[사용자 정의 필드]의 키값을 설정할 때는 기본 필드의 키값과 중복되지는 않는지 여부를 확인해 보는 것이 좋습니다.

```
작성 시: 오른쪽 링크를 클릭해 만들어진 페이지를 확인해 보세요. >> $%page%$
발송 시: 오른쪽 링크를 클릭해 만들어진 페이지를 확인해 보세요. >> stibee.com
```
